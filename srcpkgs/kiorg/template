# Template file for 'kiorg'
pkgname=kiorg
version=1.4.4
revision=1
build_style=cargo
hostmakedepends="pkg-config clang llvm"
makedepends="openssl-devel libzstd-devel oniguruma-devel fontconfig-devel lld binutils"
short_desc="Hacker's file manager with VIM inspired keybind"
maintainer="nerdyslacker <karyan40024@gmail.com>"
license="MIT"
homepage="https://github.com/houqp/kiorg"
distfiles="https://github.com/houqp/kiorg/archive/refs/tags/v${version}.tar.gz"
checksum=f495c47c42a91379d6499406ec3261e7cc8b533a22aa414e12515bff2ca9e9a5

post_extract() {
	cp -r ${FILESDIR}/pdf_fonts assets/
}

do_install() {
    vbin target/${RUST_TARGET}/release/kiorg
	vmkdir usr/share/applications
	vinstall ${FILESDIR}/kiorg.desktop 644 usr/share/applications
	
	vmkdir usr/share/pixmaps
	vinstall ${FILESDIR}/kiorg.png 644 usr/share/pixmaps
}

post_install() {
	vlicense LICENSE
}
