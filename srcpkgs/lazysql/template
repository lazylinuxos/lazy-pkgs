# Template file for 'lazysql'
pkgname=lazysql
version=0.4.3
revision=1
archs="x86_64 i686 aarch64"
build_style=go
go_import_path="github.com/jorgerojas26/lazysql"
short_desc="Cross-platform TUI database management tool"
maintainer="nerdyslacker <karyan40024@gmail.com>"
license="MIT"
homepage="https://github.com/jorgerojas26/lazysql"
distfiles="https://github.com/jorgerojas26/${pkgname}/archive/refs/tags/v${version}.tar.gz"
checksum=7d4a1b2f819c8c78c72a885e1c4642c3d1d520bcddbf6bee63a311e798a0d77b

do_build() {
	export CGO_CPPFLAGS="$CPPFLAGS"
	export CGO_CFLAGS="$CFLAGS"
	export CGO_CXXFLAGS="$CXXFLAGS"
	export CGO_LDFLAGS="$LDFLAGS"
	export GOFLAGS="-buildmode=pie -trimpath -ldflags=-linkmode=external -mod=readonly -modcacherw"

	go build -o lazysql
}

do_check() {
	go test ./...
}

do_install() {
	vbin lazysql
}
