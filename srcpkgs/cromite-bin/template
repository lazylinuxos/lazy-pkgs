# Template file for 'cromite-bin'
pkgname=cromite-bin
version=140.0.7339.186
_cromite_commit=fde090c0d3690592570011055c980f1679d2b28d
revision=1
archs="x86_64"
create_wrksrc=yes
build_style=meta
hostmakedepends="tar xz"
depends="gtk+3 libXScrnSaver nss alsa-lib"
short_desc="Cromite a Bromite fork with ad blocking"
maintainer="nerdyslacker <karyan40024@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/uazo/cromite"
distfiles="https://github.com/uazo/cromite/releases/download/v${version}-${_cromite_commit}/chrome-lin64.tar.gz"
checksum=c6d9c8123f1876a86675864d3ce0274a045d2c89cd2ea29c05f5bfeb3c7b37f1
replaces="cromite"

do_install() {
	# Install the files
	vmkdir usr/lib/cromite
	vcopy chrome-lin/* usr/lib/cromite

	vmkdir usr/share/applications
	vinstall ${FILESDIR}/cromite.desktop 644 usr/share/applications
	vinstall ${FILESDIR}/cromite.png 644 usr/share/pixmaps
	vinstall ${FILESDIR}/cromite.png 644 usr/share/icons/hicolor/scalable/apps

	# link the binary
	vmkdir usr/bin/
	ln -s /usr/lib/cromite/chrome ${DESTDIR}/usr/bin/cromite
}
